(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[626],{1238:function(e,t,s){"use strict";s.d(t,{Z:function(){return n}});/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let n=(0,s(7068).Z)("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]])},2080:function(e,t,s){"use strict";s.d(t,{Z:function(){return n}});/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let n=(0,s(7068).Z)("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]])},5822:function(e,t,s){Promise.resolve().then(s.bind(s,769))},769:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return h}});var n=s(7821),r=s(8078),a=s(6871),o=s.n(a),c=s(6179),i=s(3287),l=s(1238),u=s(2080),d=s(8806),p=s(229),g=s(7485);function h(){let e=(0,c.useRouter)(),{login:t}=(0,p.tN)(),[s,a]=(0,r.useState)(!1),[h,m]=(0,r.useState)(!1),[f,x]=(0,r.useState)({email:"",password:""}),[y,v]=(0,r.useState)({}),k=async s=>{s.preventDefault(),v({}),m(!0);try{await t(f.email,f.password),g.default.success("Đăng nhập th\xe0nh c\xf4ng!"),e.push("/dashboard")}catch(e){g.default.error(e.message||"Đăng nhập thất bại"),v({general:e.message})}finally{m(!1)}};return(0,n.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-dark-950 px-4",children:(0,n.jsx)("div",{className:"w-full max-w-md animate-slide-up",children:(0,n.jsxs)("div",{className:"card p-8",children:[(0,n.jsxs)("div",{className:"text-center mb-8",children:[(0,n.jsx)("div",{className:"w-16 h-16 bg-gradient-to-br from-primary-500 to-primary-600 rounded-xl flex items-center justify-center mx-auto mb-4 shadow-lg shadow-primary-500/30",children:(0,n.jsx)(i.Z,{className:"w-8 h-8 text-white"})}),(0,n.jsx)("h1",{className:"text-2xl font-bold",children:"Đăng nhập"}),(0,n.jsx)("p",{className:"text-dark-400 mt-1",children:"Ch\xe0o mừng bạn quay trở lại"})]}),y.general&&(0,n.jsx)("div",{className:"bg-red-500/10 border border-red-500/50 text-red-400 px-4 py-3 rounded-lg mb-6",children:y.general}),(0,n.jsxs)("form",{onSubmit:k,className:"space-y-4",children:[(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{className:"label",children:"Email"}),(0,n.jsx)("input",{type:"email",className:"input",placeholder:"email@example.com",value:f.email,onChange:e=>x({...f,email:e.target.value}),required:!0})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{className:"label",children:"Mật khẩu"}),(0,n.jsxs)("div",{className:"relative",children:[(0,n.jsx)("input",{type:s?"text":"password",className:"input pr-12",placeholder:"Nhập mật khẩu",value:f.password,onChange:e=>x({...f,password:e.target.value}),required:!0}),(0,n.jsx)("button",{type:"button",className:"absolute right-3 top-1/2 -translate-y-1/2 text-dark-400 hover:text-dark-200",onClick:()=>a(!s),children:s?(0,n.jsx)(l.Z,{className:"w-5 h-5"}):(0,n.jsx)(u.Z,{className:"w-5 h-5"})})]})]}),(0,n.jsx)("div",{className:"flex justify-end",children:(0,n.jsx)(o(),{href:"/forgot-password",className:"text-sm text-primary-400 hover:text-primary-300",children:"Qu\xean mật khẩu?"})}),(0,n.jsx)("button",{type:"submit",className:"btn btn-primary w-full py-3",disabled:h,children:h?(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(d.Z,{className:"w-5 h-5 animate-spin"}),"Đang đăng nhập..."]}):"Đăng nhập"})]}),(0,n.jsxs)("p",{className:"text-center text-dark-400 mt-6",children:["Chưa c\xf3 t\xe0i khoản?"," ",(0,n.jsx)(o(),{href:"/register",className:"text-primary-400 hover:text-primary-300",children:"Đăng k\xfd ngay"})]})]})})})}},189:function(e,t,s){"use strict";s.d(t,{F3:function(){return a},IK:function(){return d},Z9:function(){return l},ZE:function(){return u},fU:function(){return o},g3:function(){return c},kv:function(){return r},v2:function(){return p},vD:function(){return i}});let n=s(1892).Z.create({baseURL:"http://localhost:8080/api",headers:{"Content-Type":"application/json"}});n.interceptors.request.use(e=>{{let t=localStorage.getItem("token");t&&(e.headers.Authorization="Bearer ".concat(t))}return e}),n.interceptors.response.use(e=>e,e=>{var t,s,n,r,a,o;let c=(null===(s=e.response)||void 0===s?void 0:null===(t=s.data)||void 0===t?void 0:t.message)||"Đ\xe3 xảy ra lỗi";return(null===(r=e.response)||void 0===r?void 0:null===(n=r.data)||void 0===n?void 0:n.code)==="LICENSE_EXPIRED"&&(window.location.href="/license-expired"),(null===(a=e.response)||void 0===a?void 0:a.status)===401&&(localStorage.removeItem("token"),window.location.href="/login"),Promise.reject({message:c,...null===(o=e.response)||void 0===o?void 0:o.data})});let r={register:e=>n.post("/auth/register",e),login:e=>n.post("/auth/login",e),getMe:()=>n.get("/auth/me"),verifyEmail:e=>n.get("/auth/verify-email/".concat(e)),forgotPassword:e=>n.post("/auth/forgot-password",{email:e}),resetPassword:(e,t)=>n.post("/auth/reset-password/".concat(e),{password:t}),updateShop:e=>n.put("/auth/shop",e),changePassword:(e,t)=>n.put("/auth/change-password",{currentPassword:e,newPassword:t})},a={getAll:e=>n.get("/products",{params:e}),getById:e=>n.get("/products/".concat(e)),create:e=>n.post("/products",e),update:(e,t)=>n.put("/products/".concat(e),t),delete:e=>n.delete("/products/".concat(e)),getCategories:()=>n.get("/products/categories"),getLowStock:()=>n.get("/products/low-stock"),updateStock:(e,t,s)=>n.patch("/products/".concat(e,"/stock"),{adjustment:t,reason:s})},o={getAll:e=>n.get("/customers",{params:e}),getById:e=>n.get("/customers/".concat(e)),create:e=>n.post("/customers",e),update:(e,t)=>n.put("/customers/".concat(e),t),delete:e=>n.delete("/customers/".concat(e)),getOrders:e=>n.get("/customers/".concat(e,"/orders"))},c={getAll:e=>n.get("/orders",{params:e}),getById:e=>n.get("/orders/".concat(e)),create:e=>n.post("/orders",e),updateStatus:(e,t,s)=>n.patch("/orders/".concat(e,"/status"),{status:t,note:s}),cancel:(e,t)=>n.post("/orders/".concat(e,"/cancel"),{reason:t}),getStats:()=>n.get("/orders/stats")},i={getStats:()=>n.get("/dashboard/stats"),getRevenue:e=>n.get("/dashboard/revenue",{params:e}),getTopProducts:e=>n.get("/dashboard/top-products",{params:{limit:e}}),getRecentOrders:e=>n.get("/dashboard/recent-orders",{params:{limit:e}})},l={getAll:()=>n.get("/staff"),create:e=>n.post("/staff",e),update:(e,t)=>n.put("/staff/".concat(e),t),delete:e=>n.delete("/staff/".concat(e)),resetPassword:(e,t)=>n.post("/staff/".concat(e,"/reset-password"),{newPassword:t})},u={getAll:e=>n.get("/suppliers",{params:e}),getById:e=>n.get("/suppliers/".concat(e)),create:e=>n.post("/suppliers",e),update:(e,t)=>n.put("/suppliers/".concat(e),t),delete:e=>n.delete("/suppliers/".concat(e))},d={getAll:()=>n.get("/integrations"),get:e=>n.get("/integrations/".concat(e)),connect:(e,t)=>n.post("/integrations/".concat(e,"/connect"),t),disconnect:e=>n.post("/integrations/".concat(e,"/disconnect")),updateSettings:(e,t)=>n.patch("/integrations/".concat(e,"/settings"),t),syncProducts:e=>n.post("/integrations/".concat(e,"/sync-products")),syncOrders:e=>n.post("/integrations/".concat(e,"/sync-orders"))},p={get:()=>n.get("/tier-settings"),update:e=>n.put("/tier-settings",{tiers:e})}},229:function(e,t,s){"use strict";s.d(t,{AQ:function(){return l},cL:function(){return i},p6:function(){return c},tN:function(){return a},xG:function(){return o}});var n=s(8433),r=s(189);let a=(0,n.Ue)((e,t)=>({user:null,shop:null,token:localStorage.getItem("token"),isLoading:!0,isAuthenticated:!1,login:async(t,s)=>{let{data:n}=await r.kv.login({email:t,password:s});localStorage.setItem("token",n.token),e({user:n.user,shop:n.shop,token:n.token,isAuthenticated:!0,isLoading:!1})},register:async t=>{let{data:s}=await r.kv.register(t);localStorage.setItem("token",s.token),e({user:s.user,shop:s.shop,token:s.token,isAuthenticated:!0,isLoading:!1})},logout:()=>{localStorage.removeItem("token"),e({user:null,shop:null,token:null,isAuthenticated:!1,isLoading:!1})},fetchUser:async()=>{let t=localStorage.getItem("token");if(!t){e({isLoading:!1,isAuthenticated:!1});return}try{let{data:s}=await r.kv.getMe();e({user:s.user,shop:s.shop,token:t,isAuthenticated:!0,isLoading:!1})}catch(t){localStorage.removeItem("token"),e({user:null,shop:null,token:null,isAuthenticated:!1,isLoading:!1})}},setAuth:(t,s,n)=>{localStorage.setItem("token",n),e({user:t,shop:s,token:n,isAuthenticated:!0,isLoading:!1})},setShop:t=>{e({shop:t})}})),o=e=>new Intl.NumberFormat("vi-VN",{style:"currency",currency:"VND"}).format(e),c=function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],s={day:"2-digit",month:"2-digit",year:"numeric"};return t&&(s.hour="2-digit",s.minute="2-digit"),new Date(e).toLocaleDateString("vi-VN",s)},i={pending:"Chờ xử l\xfd",processing:"Đang xử l\xfd",shipping:"Đang giao",completed:"Ho\xe0n th\xe0nh",cancelled:"Đ\xe3 hủy"},l={pending:"warning",processing:"primary",shipping:"primary",completed:"success",cancelled:"danger"}},6179:function(e,t,s){e.exports=s(319)}},function(e){e.O(0,[798,871,925,115,141,744],function(){return e(e.s=5822)}),_N_E=e.O()}]);