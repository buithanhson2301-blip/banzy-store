exports.id=5,exports.ids=[5],exports.modules={598:(e,t,s)=>{Promise.resolve().then(s.bind(s,6917))},8318:(e,t,s)=>{Promise.resolve().then(s.bind(s,5082))},9425:(e,t,s)=>{Promise.resolve().then(s.t.bind(s,5483,23)),Promise.resolve().then(s.t.bind(s,6544,23)),Promise.resolve().then(s.t.bind(s,7680,23)),Promise.resolve().then(s.t.bind(s,4138,23)),Promise.resolve().then(s.t.bind(s,8705,23)),Promise.resolve().then(s.t.bind(s,7974,23))},6917:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>w});var r=s(4714),a=s(7580),n=s(8934),o=s(5070),i=s.n(o),l=s(8553),d=s(4089),c=s(3696),h=s(108),p=s(2491),u=s(8510),g=s(4613),m=s(6526),x=s(442),f=s(6164),b=s(7694),k=s(7469),y=s(8709),j=s(5933),v=s(4583);let N=[{href:"/dashboard",label:"Tổng quan",icon:l.Z},{href:"/dashboard/products",label:"Sản phẩm",icon:d.Z},{href:"/dashboard/orders",label:"Đơn h\xe0ng",icon:c.Z},{href:"/dashboard/customers",label:"Kh\xe1ch h\xe0ng",icon:h.Z},{href:"/dashboard/suppliers",label:"Nh\xe0 cung cấp",icon:p.Z},{href:"/dashboard/inventory",label:"Tồn kho",icon:u.Z},{href:"/dashboard/reports",label:"B\xe1o c\xe1o",icon:g.Z},{href:"/dashboard/integrations",label:"Kết nối s\xe0n",icon:m.Z},{href:"/dashboard/staff",label:"Nh\xe2n vi\xean",icon:x.Z},{href:"/dashboard/settings",label:"C\xe0i đặt",icon:f.Z}];function w({children:e}){let t=(0,n.useRouter)(),s=(0,n.usePathname)(),{user:o,shop:l,isLoading:c,isAuthenticated:h,fetchUser:p,logout:u}=(0,v.tN)(),[g,m]=(0,a.useState)(!1),[x,f]=(0,a.useState)(!1);return((0,a.useEffect)(()=>{p()},[p]),(0,a.useEffect)(()=>{c||h||t.push("/login")},[c,h,t]),c)?r.jsx("div",{className:"min-h-screen flex items-center justify-center bg-dark-950",children:r.jsx("div",{className:"animate-spin w-8 h-8 border-4 border-primary-500 border-t-transparent rounded-full"})}):h?(0,r.jsxs)("div",{className:"min-h-screen bg-dark-950 flex",children:[g&&r.jsx("div",{className:"fixed inset-0 bg-black/50 z-40 lg:hidden",onClick:()=>m(!1)}),(0,r.jsxs)("aside",{className:`
        fixed lg:static inset-y-0 left-0 z-50
        w-64 bg-dark-900 border-r border-dark-800
        transform transition-transform duration-200
        ${g?"translate-x-0":"-translate-x-full lg:translate-x-0"}
      `,children:[(0,r.jsxs)("div",{className:"h-16 flex items-center justify-between px-4 border-b border-dark-800",children:[(0,r.jsxs)(i(),{href:"/dashboard",className:"flex items-center gap-3",children:[r.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-primary-500 to-primary-600 rounded-lg flex items-center justify-center",children:r.jsx(d.Z,{className:"w-6 h-6 text-white"})}),r.jsx("span",{className:"font-bold text-lg",children:"QALY BAHA"})]}),r.jsx("button",{className:"lg:hidden text-dark-400",onClick:()=>m(!1),children:r.jsx(b.Z,{className:"w-6 h-6"})})]}),(0,r.jsxs)("div",{className:"px-4 py-3 border-b border-dark-800",children:[r.jsx("p",{className:"text-xs text-dark-500 uppercase tracking-wider",children:"Cửa h\xe0ng"}),r.jsx("p",{className:"font-medium truncate",children:l?.name||"My Shop"})]}),r.jsx("nav",{className:"p-4 space-y-1",children:N.map(e=>(0,r.jsxs)(i(),{href:e.href,className:`sidebar-link ${s===e.href?"active":""}`,onClick:()=>m(!1),children:[r.jsx(e.icon,{className:"w-5 h-5"}),r.jsx("span",{children:e.label})]},e.href))}),(0,r.jsxs)("div",{className:"absolute bottom-0 left-0 right-0 p-4 border-t border-dark-800",children:[(0,r.jsxs)("div",{className:"text-xs text-dark-500 mb-1",children:["G\xf3i: ",r.jsx("span",{className:"text-primary-400 capitalize",children:l?.license?.plan||"free"})]}),l?.license?.status==="trial"&&(0,r.jsxs)("div",{className:"text-xs text-yellow-400",children:["D\xf9ng thử: c\xf2n ",Math.ceil((new Date(l.license.trialEndsAt).getTime()-Date.now())/864e5)," ng\xe0y"]})]})]}),(0,r.jsxs)("div",{className:"flex-1 flex flex-col min-w-0",children:[(0,r.jsxs)("header",{className:"h-16 bg-dark-900 border-b border-dark-800 flex items-center justify-between px-4",children:[r.jsx("button",{className:"lg:hidden text-dark-400",onClick:()=>m(!0),children:r.jsx(k.Z,{className:"w-6 h-6"})}),r.jsx("div",{className:"flex-1"}),(0,r.jsxs)("div",{className:"relative",children:[(0,r.jsxs)("button",{className:"flex items-center gap-2 px-3 py-2 rounded-lg hover:bg-dark-800 transition",onClick:()=>f(!x),children:[r.jsx("div",{className:"w-8 h-8 bg-gradient-to-br from-primary-500 to-primary-600 rounded-full flex items-center justify-center text-white font-medium",children:o?.name?.charAt(0)?.toUpperCase()||"U"}),r.jsx("span",{className:"hidden sm:block",children:o?.name||"User"}),r.jsx(y.Z,{className:"w-4 h-4 text-dark-400"})]}),x&&(0,r.jsxs)(r.Fragment,{children:[r.jsx("div",{className:"fixed inset-0 z-10",onClick:()=>f(!1)}),(0,r.jsxs)("div",{className:"absolute right-0 top-full mt-2 w-48 bg-dark-800 border border-dark-700 rounded-lg shadow-xl z-20 py-1",children:[(0,r.jsxs)("div",{className:"px-3 py-2 border-b border-dark-700",children:[r.jsx("p",{className:"font-medium truncate",children:o?.name}),r.jsx("p",{className:"text-xs text-dark-400 truncate",children:o?.email})]}),(0,r.jsxs)("button",{className:"w-full flex items-center gap-2 px-3 py-2 text-left text-red-400 hover:bg-dark-700",onClick:()=>{u(),t.push("/login")},children:[r.jsx(j.Z,{className:"w-4 h-4"}),"Đăng xuất"]})]})]})]})]}),r.jsx("main",{className:"flex-1 p-4 md:p-6 overflow-auto",children:e})]})]}):null}},1102:(e,t,s)=>{"use strict";s.d(t,{F3:()=>n,IK:()=>h,Z9:()=>d,ZE:()=>c,fU:()=>o,g3:()=>i,kv:()=>a,v2:()=>p,vD:()=>l});let r=s(7059).Z.create({baseURL:"http://localhost:8080/api",headers:{"Content-Type":"application/json"}});r.interceptors.request.use(e=>e),r.interceptors.response.use(e=>e,e=>{let t=e.response?.data?.message||"Đ\xe3 xảy ra lỗi";return e.response?.data?.code,e.response?.status,Promise.reject({message:t,...e.response?.data})});let a={register:e=>r.post("/auth/register",e),login:e=>r.post("/auth/login",e),getMe:()=>r.get("/auth/me"),verifyEmail:e=>r.get(`/auth/verify-email/${e}`),forgotPassword:e=>r.post("/auth/forgot-password",{email:e}),resetPassword:(e,t)=>r.post(`/auth/reset-password/${e}`,{password:t}),updateShop:e=>r.put("/auth/shop",e),changePassword:(e,t)=>r.put("/auth/change-password",{currentPassword:e,newPassword:t})},n={getAll:e=>r.get("/products",{params:e}),getById:e=>r.get(`/products/${e}`),create:e=>r.post("/products",e),update:(e,t)=>r.put(`/products/${e}`,t),delete:e=>r.delete(`/products/${e}`),getCategories:()=>r.get("/products/categories"),getLowStock:()=>r.get("/products/low-stock"),updateStock:(e,t,s)=>r.patch(`/products/${e}/stock`,{adjustment:t,reason:s})},o={getAll:e=>r.get("/customers",{params:e}),getById:e=>r.get(`/customers/${e}`),create:e=>r.post("/customers",e),update:(e,t)=>r.put(`/customers/${e}`,t),delete:e=>r.delete(`/customers/${e}`),getOrders:e=>r.get(`/customers/${e}/orders`)},i={getAll:e=>r.get("/orders",{params:e}),getById:e=>r.get(`/orders/${e}`),create:e=>r.post("/orders",e),updateStatus:(e,t,s)=>r.patch(`/orders/${e}/status`,{status:t,note:s}),cancel:(e,t)=>r.post(`/orders/${e}/cancel`,{reason:t}),getStats:()=>r.get("/orders/stats")},l={getStats:()=>r.get("/dashboard/stats"),getRevenue:e=>r.get("/dashboard/revenue",{params:e}),getTopProducts:e=>r.get("/dashboard/top-products",{params:{limit:e}}),getRecentOrders:e=>r.get("/dashboard/recent-orders",{params:{limit:e}})},d={getAll:()=>r.get("/staff"),create:e=>r.post("/staff",e),update:(e,t)=>r.put(`/staff/${e}`,t),delete:e=>r.delete(`/staff/${e}`),resetPassword:(e,t)=>r.post(`/staff/${e}/reset-password`,{newPassword:t})},c={getAll:e=>r.get("/suppliers",{params:e}),getById:e=>r.get(`/suppliers/${e}`),create:e=>r.post("/suppliers",e),update:(e,t)=>r.put(`/suppliers/${e}`,t),delete:e=>r.delete(`/suppliers/${e}`)},h={getAll:()=>r.get("/integrations"),get:e=>r.get(`/integrations/${e}`),connect:(e,t)=>r.post(`/integrations/${e}/connect`,t),disconnect:e=>r.post(`/integrations/${e}/disconnect`),updateSettings:(e,t)=>r.patch(`/integrations/${e}/settings`,t),syncProducts:e=>r.post(`/integrations/${e}/sync-products`),syncOrders:e=>r.post(`/integrations/${e}/sync-orders`)},p={get:()=>r.get("/tier-settings"),update:e=>r.put("/tier-settings",{tiers:e})}},4583:(e,t,s)=>{"use strict";s.d(t,{AQ:()=>d,cL:()=>l,p6:()=>i,tN:()=>n,xG:()=>o});var r=s(1914),a=s(1102);let n=(0,r.Ue)((e,t)=>({user:null,shop:null,token:null,isLoading:!0,isAuthenticated:!1,login:async(t,s)=>{let{data:r}=await a.kv.login({email:t,password:s});localStorage.setItem("token",r.token),e({user:r.user,shop:r.shop,token:r.token,isAuthenticated:!0,isLoading:!1})},register:async t=>{let{data:s}=await a.kv.register(t);localStorage.setItem("token",s.token),e({user:s.user,shop:s.shop,token:s.token,isAuthenticated:!0,isLoading:!1})},logout:()=>{localStorage.removeItem("token"),e({user:null,shop:null,token:null,isAuthenticated:!1,isLoading:!1})},fetchUser:async()=>{let t=localStorage.getItem("token");if(!t){e({isLoading:!1,isAuthenticated:!1});return}try{let{data:s}=await a.kv.getMe();e({user:s.user,shop:s.shop,token:t,isAuthenticated:!0,isLoading:!1})}catch{localStorage.removeItem("token"),e({user:null,shop:null,token:null,isAuthenticated:!1,isLoading:!1})}},setAuth:(t,s,r)=>{localStorage.setItem("token",r),e({user:t,shop:s,token:r,isAuthenticated:!0,isLoading:!1})},setShop:t=>{e({shop:t})}})),o=e=>new Intl.NumberFormat("vi-VN",{style:"currency",currency:"VND"}).format(e),i=(e,t=!1)=>{let s={day:"2-digit",month:"2-digit",year:"numeric"};return t&&(s.hour="2-digit",s.minute="2-digit"),new Date(e).toLocaleDateString("vi-VN",s)},l={pending:"Chờ xử l\xfd",processing:"Đang xử l\xfd",shipping:"Đang giao",completed:"Ho\xe0n th\xe0nh",cancelled:"Đ\xe3 hủy"},d={pending:"warning",processing:"primary",shipping:"primary",completed:"success",cancelled:"danger"}},3723:(e,t,s)=>{"use strict";s.r(t),s.d(t,{$$typeof:()=>n,__esModule:()=>a,default:()=>o});let r=(0,s(1481).createProxy)(String.raw`D:\APP\Test app QLBH w GG\frontend\src\app\dashboard\layout.tsx`),{__esModule:a,$$typeof:n}=r,o=r.default},364:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>o,metadata:()=>n});var r=s(657),a=s(1315);s(1641);let n={title:"QALY BAHA - Quản l\xfd b\xe1n h\xe0ng online",description:"Hệ thống quản l\xfd b\xe1n h\xe0ng online d\xe0nh cho c\xe1c shop nhỏ lẻ"};function o({children:e}){return r.jsx("html",{lang:"vi",children:(0,r.jsxs)("body",{children:[e,r.jsx(a.x7,{position:"top-right",toastOptions:{duration:4e3,style:{background:"#1f2937",color:"#f9fafb",border:"1px solid #374151"},success:{iconTheme:{primary:"#10b981",secondary:"#f9fafb"}},error:{iconTheme:{primary:"#ef4444",secondary:"#f9fafb"}}}})]})})}},1641:()=>{}};