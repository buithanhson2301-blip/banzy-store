(()=>{var e={};e.id=955,e.ids=[955],e.modules={7849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},5403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},4749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},5528:e=>{"use strict";e.exports=require("next/dist\\client\\components\\action-async-storage.external.js")},1877:e=>{"use strict";e.exports=require("next/dist\\client\\components\\request-async-storage.external.js")},5319:e=>{"use strict";e.exports=require("next/dist\\client\\components\\static-generation-async-storage.external.js")},9491:e=>{"use strict";e.exports=require("assert")},6113:e=>{"use strict";e.exports=require("crypto")},2361:e=>{"use strict";e.exports=require("events")},358:e=>{"use strict";e.exports=require("fs")},3685:e=>{"use strict";e.exports=require("http")},5158:e=>{"use strict";e.exports=require("http2")},5687:e=>{"use strict";e.exports=require("https")},1808:e=>{"use strict";e.exports=require("net")},1017:e=>{"use strict";e.exports=require("path")},2781:e=>{"use strict";e.exports=require("stream")},6224:e=>{"use strict";e.exports=require("tty")},7310:e=>{"use strict";e.exports=require("url")},3837:e=>{"use strict";e.exports=require("util")},9796:e=>{"use strict";e.exports=require("zlib")},1857:(e,s,t)=>{"use strict";t.r(s),t.d(s,{GlobalError:()=>l.a,__next_app__:()=>u,originalPathname:()=>p,pages:()=>o,routeModule:()=>h,tree:()=>d});var a=t(7),r=t(8533),n=t(9377),l=t.n(n),c=t(9799),i={};for(let e in c)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(i[e]=()=>c[e]);t.d(s,i);let d=["",{children:["dashboard",{children:["suppliers",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,6899)),"D:\\APP\\Test app QLBH w GG\\frontend\\src\\app\\dashboard\\suppliers\\page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(t.bind(t,3723)),"D:\\APP\\Test app QLBH w GG\\frontend\\src\\app\\dashboard\\layout.tsx"]}]},{layout:[()=>Promise.resolve().then(t.bind(t,364)),"D:\\APP\\Test app QLBH w GG\\frontend\\src\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(t.t.bind(t,3472,23)),"next/dist/client/components/not-found-error"]}],o=["D:\\APP\\Test app QLBH w GG\\frontend\\src\\app\\dashboard\\suppliers\\page.tsx"],p="/dashboard/suppliers/page",u={require:t,loadChunk:()=>Promise.resolve()},h=new a.AppPageRouteModule({definition:{kind:r.x.APP_PAGE,page:"/dashboard/suppliers/page",pathname:"/dashboard/suppliers",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},9775:(e,s,t)=>{Promise.resolve().then(t.bind(t,6261))},6261:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>m});var a=t(4714),r=t(7580),n=t(155),l=t(3682),c=t(9858);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let i=(0,c.Z)("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);var d=t(5208),o=t(8387);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let p=(0,c.Z)("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);var u=t(6338),h=t(1102),x=t(5082);function m(){let[e,s]=(0,r.useState)([]),[t,c]=(0,r.useState)(!0),[m,g]=(0,r.useState)(""),[j,b]=(0,r.useState)(!1),[v,f]=(0,r.useState)(null),[y,N]=(0,r.useState)({name:"",code:"",phone:"",email:"",address:"",contactPerson:"",note:""}),k=async()=>{try{let{data:e}=await h.ZE.getAll({search:m,limit:100});s(e.suppliers)}catch(e){console.error("Failed to fetch suppliers:",e)}finally{c(!1)}};(0,r.useEffect)(()=>{k()},[]),(0,r.useEffect)(()=>{let e=setTimeout(()=>k(),300);return()=>clearTimeout(e)},[m]);let P=e=>{e?(f(e),N({name:e.name,code:e.code||"",phone:e.phone,email:e.email||"",address:e.address||"",contactPerson:e.contactPerson||"",note:e.note||""})):(f(null),N({name:"",code:"",phone:"",email:"",address:"",contactPerson:"",note:""})),b(!0)},w=async e=>{e.preventDefault();try{v?(await h.ZE.update(v._id,y),x.default.success("Đ\xe3 cập nhật nh\xe0 cung cấp")):(await h.ZE.create(y),x.default.success("Đ\xe3 th\xeam nh\xe0 cung cấp mới")),b(!1),k()}catch(e){x.default.error(e.message||"C\xf3 lỗi xảy ra")}},q=async e=>{if(confirm(`Bạn c\xf3 chắc muốn x\xf3a "${e.name}"?`))try{await h.ZE.delete(e._id),x.default.success("Đ\xe3 x\xf3a nh\xe0 cung cấp"),k()}catch(e){x.default.error(e.message||"C\xf3 lỗi xảy ra")}};return(0,a.jsxs)("div",{className:"space-y-6 animate-fade-in",children:[(0,a.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4",children:[(0,a.jsxs)("div",{children:[a.jsx("h1",{className:"text-2xl font-bold",children:"Nh\xe0 cung cấp"}),a.jsx("p",{className:"text-dark-400 text-sm mt-1",children:"Quản l\xfd danh s\xe1ch nh\xe0 cung cấp h\xe0ng h\xf3a"})]}),(0,a.jsxs)("button",{className:"btn btn-primary",onClick:()=>P(),children:[a.jsx(n.Z,{className:"w-5 h-5"})," Th\xeam nh\xe0 cung cấp"]})]}),(0,a.jsxs)("div",{className:"relative max-w-md",children:[a.jsx(l.Z,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-dark-500"}),a.jsx("input",{type:"text",className:"input pl-10",placeholder:"T\xecm kiếm nh\xe0 cung cấp...",value:m,onChange:e=>g(e.target.value)})]}),t?a.jsx("div",{className:"flex items-center justify-center h-64",children:a.jsx("div",{className:"animate-spin w-8 h-8 border-4 border-primary-500 border-t-transparent rounded-full"})}):0===e.length?(0,a.jsxs)("div",{className:"card p-8 text-center",children:[a.jsx("div",{className:"w-16 h-16 bg-dark-800 rounded-full flex items-center justify-center mx-auto mb-4",children:a.jsx(i,{className:"w-8 h-8 text-dark-500"})}),a.jsx("p",{className:"text-dark-400 mb-4",children:m?"Kh\xf4ng t\xecm thấy nh\xe0 cung cấp":"Chưa c\xf3 nh\xe0 cung cấp n\xe0o"}),(0,a.jsxs)("button",{className:"btn btn-primary",onClick:()=>P(),children:[a.jsx(n.Z,{className:"w-4 h-4"})," Th\xeam nh\xe0 cung cấp đầu ti\xean"]})]}):a.jsx("div",{className:"grid sm:grid-cols-2 lg:grid-cols-3 gap-4",children:e.map(e=>(0,a.jsxs)("div",{className:"card p-4 hover:border-primary-500/50 transition-colors",children:[(0,a.jsxs)("div",{className:"flex items-start justify-between mb-3",children:[(0,a.jsxs)("div",{children:[a.jsx("h3",{className:"font-semibold",children:e.name}),a.jsx("p",{className:"text-xs text-dark-500",children:e.code})]}),(0,a.jsxs)("div",{className:"flex gap-1",children:[a.jsx("button",{className:"btn btn-ghost p-1.5",onClick:()=>P(e),children:a.jsx(d.Z,{className:"w-4 h-4"})}),a.jsx("button",{className:"btn btn-ghost p-1.5 text-red-400",onClick:()=>q(e),children:a.jsx(o.Z,{className:"w-4 h-4"})})]})]}),(0,a.jsxs)("div",{className:"space-y-2 text-sm",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 text-dark-400",children:[a.jsx(p,{className:"w-4 h-4"}),a.jsx("span",{children:e.phone})]}),e.email&&(0,a.jsxs)("div",{className:"flex items-center gap-2 text-dark-400",children:[a.jsx(u.Z,{className:"w-4 h-4"}),a.jsx("span",{className:"truncate",children:e.email})]}),e.address&&(0,a.jsxs)("div",{className:"flex items-start gap-2 text-dark-400",children:[a.jsx(i,{className:"w-4 h-4 flex-shrink-0 mt-0.5"}),a.jsx("span",{className:"line-clamp-2",children:e.address})]})]}),e.contactPerson&&(0,a.jsxs)("div",{className:"mt-3 pt-3 border-t border-dark-800 text-sm text-dark-400",children:["Li\xean hệ: ",a.jsx("span",{className:"text-dark-200",children:e.contactPerson})]})]},e._id))}),j&&a.jsx("div",{className:"fixed inset-0 bg-black/70 flex items-center justify-center z-50 p-4",children:(0,a.jsxs)("div",{className:"bg-dark-900 border border-dark-800 rounded-xl w-full max-w-lg max-h-[90vh] overflow-y-auto",children:[a.jsx("div",{className:"p-4 border-b border-dark-800",children:a.jsx("h2",{className:"text-lg font-semibold",children:v?"Sửa nh\xe0 cung cấp":"Th\xeam nh\xe0 cung cấp mới"})}),(0,a.jsxs)("form",{onSubmit:w,className:"p-4 space-y-4",children:[(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{className:"col-span-2 sm:col-span-1",children:[a.jsx("label",{className:"label",children:"T\xean nh\xe0 cung cấp *"}),a.jsx("input",{className:"input",required:!0,value:y.name,onChange:e=>N({...y,name:e.target.value})})]}),(0,a.jsxs)("div",{className:"col-span-2 sm:col-span-1",children:[a.jsx("label",{className:"label",children:"M\xe3 NCC"}),a.jsx("input",{className:"input",placeholder:"Tự động tạo",value:y.code,onChange:e=>N({...y,code:e.target.value})})]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{children:[a.jsx("label",{className:"label",children:"Điện thoại *"}),a.jsx("input",{className:"input",required:!0,value:y.phone,onChange:e=>N({...y,phone:e.target.value})})]}),(0,a.jsxs)("div",{children:[a.jsx("label",{className:"label",children:"Email"}),a.jsx("input",{type:"email",className:"input",value:y.email,onChange:e=>N({...y,email:e.target.value})})]})]}),(0,a.jsxs)("div",{children:[a.jsx("label",{className:"label",children:"Người li\xean hệ"}),a.jsx("input",{className:"input",placeholder:"T\xean người li\xean hệ",value:y.contactPerson,onChange:e=>N({...y,contactPerson:e.target.value})})]}),(0,a.jsxs)("div",{children:[a.jsx("label",{className:"label",children:"Địa chỉ"}),a.jsx("textarea",{className:"input",rows:2,value:y.address,onChange:e=>N({...y,address:e.target.value})})]}),(0,a.jsxs)("div",{children:[a.jsx("label",{className:"label",children:"Ghi ch\xfa"}),a.jsx("textarea",{className:"input",rows:2,value:y.note,onChange:e=>N({...y,note:e.target.value})})]}),(0,a.jsxs)("div",{className:"flex gap-3 pt-4",children:[a.jsx("button",{type:"button",className:"btn btn-secondary flex-1",onClick:()=>b(!1),children:"Hủy"}),a.jsx("button",{type:"submit",className:"btn btn-primary flex-1",children:v?"Cập nhật":"Th\xeam mới"})]})]})]})})]})}},6338:(e,s,t)=>{"use strict";t.d(s,{Z:()=>a});/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,t(9858).Z)("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]])},5208:(e,s,t)=>{"use strict";t.d(s,{Z:()=>a});/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,t(9858).Z)("Pen",[["path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z",key:"5qss01"}]])},155:(e,s,t)=>{"use strict";t.d(s,{Z:()=>a});/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,t(9858).Z)("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]])},3682:(e,s,t)=>{"use strict";t.d(s,{Z:()=>a});/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,t(9858).Z)("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]])},8387:(e,s,t)=>{"use strict";t.d(s,{Z:()=>a});/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,t(9858).Z)("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]])},6899:(e,s,t)=>{"use strict";t.r(s),t.d(s,{$$typeof:()=>n,__esModule:()=>r,default:()=>l});let a=(0,t(1481).createProxy)(String.raw`D:\APP\Test app QLBH w GG\frontend\src\app\dashboard\suppliers\page.tsx`),{__esModule:r,$$typeof:n}=a,l=a.default}};var s=require("../../../webpack-runtime.js");s.C(e);var t=e=>s(s.s=e),a=s.X(0,[100,766,59,712,5],()=>t(1857));module.exports=a})();